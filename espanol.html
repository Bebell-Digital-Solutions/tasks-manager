<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gestor de Tareas - Selectores Interactivos</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <style>


      
        .custom-image-widget {
            position: fixed !important;
            top: 50px !important;
            margin: 0 !important;
            padding: 0 !important;
            right: 0px;
            z-index: 999;
        }
        
        .custom-image {
            width: 70px;
            height: auto;
            transition: transform 0.2s;
        }
        
        .custom-image-widget:hover .custom-image {
            transform: scale(1.2);
        }
        
        .custom-image-widget:hover .tooltip {
            visibility: visible;
            opacity: 1;
        }
                
        



    
    
    /* ===== ESTILOS BASE ===== */
:root {
    --primary: #df1783;
    --secondary: #8338ec;
    --accent: #ff006e;
    --bg: #f8fafc;
    --card: #ffffff;
    --text: #1e293b;
    --border: #e2e8f0;
    --column-bg: #f1f5f9;
    --shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);
    --radius: 8px;
}

[data-theme="dark"] {
    --bg: #0f172a;
    --card: #1e293b;
    --text: #f1f5f9;
    --border: #334155;
    --column-bg: #1e293b;
    --shadow: 0 4px 6px -1px rgb(0 0 0 / 0.3);
    --primary: #df1783;
    --secondary: #8338ec;
    --accent: #f472b6;
    --text-light: #94a3b8;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html {
    scroll-behavior: smooth;
}

body {
    font-family: 'Poppins', sans-serif;
    background: var(--bg);
    color: var(--text);
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    overflow-x: hidden;
}

.app-wrapper {
    width: 100%;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
}

/* ===== CABECERA ===== */
.header {
    background: var(--primary);
    color: white;
    padding: 2rem 1rem;
    text-align: center;
    box-shadow: var(--shadow);
    width: 100%;
}

.header__content {
    width: 100%;
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 1rem;
}

.header__title {
    font-size: 2.5rem;
    margin-bottom: 0.75rem;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
    letter-spacing: 1px;
    animation: slideDown 0.5s ease-out;
    line-height: 1.2;
}

.header__subtitle {
    font-size: 1.1rem;
    opacity: 0.9;
    font-weight: 400;
    animation: slideUp 0.5s ease-out 0.2s backwards;
}

/* ===== ESTAD√çSTICAS DE CABECERA - ACTUALIZADO PARA M√ìVIL ===== */
.header__stats {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
    width: 100%;
    max-width: 100%;
    padding: 0.5rem 0;
    margin-top: 1.5rem;
    animation: fadeIn 0.5s ease-out 0.4s backwards;
}

.header__stat {
    background: rgba(255, 255, 255, 0.1);
    padding: 0.75rem 0.5rem;
    border-radius: var(--radius);
    backdrop-filter: blur(5px);
    -webkit-backdrop-filter: blur(5px);
    text-align: center;
    min-width: 0;
    overflow: hidden;
}

.header__stat-value {
    font-size: 1.3rem;
    font-weight: 600;
    margin-bottom: 0.25rem;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.header__stat-label {
    font-size: 0.85rem;
    opacity: 0.8;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* ===== CONTENIDO PRINCIPAL ===== */
.container {
    width: 100%;
    max-width: 100%;
    padding: 0 1rem;
    margin: 1rem auto;
    flex: 1;
}

.board {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1rem;
    width: 100%;
    padding: 0 0.5rem;
}

.column {
    background: var(--column-bg);
    border-radius: var(--radius);
    padding: 1.25rem;
    min-height: 400px;
    transition: background-color 0.2s;
    overflow: hidden;
}

.column.drag-over {
    background-color: rgba(223, 23, 131, 0.1);
}

.column__header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
}

.column__title {
    font-size: 1.2rem;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.task-list {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    min-height: 200px;
    padding: 0.5rem;
    transition: padding 0.2s;
}

.task-list.drag-over {
    padding: 1rem;
    background: rgba(255, 255, 255, 0.5);
    border-radius: var(--radius);
}

.task {
    background: var(--card);
    border-radius: var(--radius);
    padding: 1rem;
    box-shadow: var(--shadow);
    transition: transform 0.2s, opacity 0.2s;
    cursor: move;
    user-select: none;
    position: relative;
    width: 100%;
    overflow: hidden;
}

.task.dragging {
    opacity: 0.5;
    cursor: grabbing;
}

.task:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow), 0 8px 16px rgba(0, 0, 0, 0.1);
}

.task__header {
    display: flex;
    justify-content: space-between;
    margin-bottom: 0.5rem;
}

.task__title {
    font-weight: 600;
}

.task__content {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.task__footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 1rem;
    font-size: 0.9rem;
}

.task__date {
    color: #666;
}

.task__image {
    width: 100%;
    height: 120px;
    object-fit: cover;
    border-radius: var(--radius);
    margin-top: 0.5rem;
}

.add-task {
    background: rgba(255, 255, 255, 0.8);
    border: 2px dashed var(--border);
    border-radius: var(--radius);
    padding: 1rem;
    text-align: center;
    cursor: pointer;
    transition: all 0.2s;
}

.add-task:hover {
    background: white;
    border-color: var(--primary);
}

/* ===== BOTONES FLOTANTES - ACTUALIZADO PARA TOP LAYER ===== */
.floating-buttons {
    position: fixed;
    display: flex;
    flex-direction: column;
    gap: 12px;
    top: 1rem;
    right: 1rem;
    z-index: 9999;
}

.theme-toggle,
.help-toggle {
    width: 40px;
    height: 40px;
    margin: 7px;
    background: white !important;
    box-shadow: var(--shadow);
    border: none;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    cursor: pointer;
    backdrop-filter: blur(5px);
    -webkit-backdrop-filter: blur(5px);
    transition: all 0.3s ease;
    z-index: 10000;
}

.theme-toggle:hover,
.help-toggle:hover {
    transform: scale(1.1);
}

/* ===== MODALES ===== */
.modal {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 1000;
}

.modal.show {
    display: flex;
}

.modal__content {
    background: var(--card);
    padding: 2rem;
    border-radius: var(--radius);
    width: 95%;
    max-width: 500px;
    position: relative;
    margin: 1rem;
    transition: all 0.3s ease;
}

.modal__close {
    position: absolute;
    top: 1rem;
    right: 1rem;
    background: none;
    border: none;
    font-size: 1.7rem;
    cursor: pointer;
    color: #666;
}

.task-form {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.form-group {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.form-group label {
    font-weight: 600;
    color: var(--text);
}

.form-group input,
.form-group textarea {
    padding: 0.5rem;
    border: 1px solid var(--border);
    border-radius: var(--radius);
    font-family: inherit;
}

.picker-group {
    display: flex;
    gap: 1rem;
    align-items: center;
}

.color-picker {
    display: flex;
    align-items: center;
    gap: 1rem;
}

input[type="color"] {
    -webkit-appearance: none;
    appearance: none;
    width: 50px;
    height: 50px;
    padding: 0;
    border: none;
    border-radius: 50%;
    cursor: pointer;
    background: none;
    transition: transform 0.2s;
}

input[type="color"]::-webkit-color-swatch-wrapper {
    padding: 0;
    border: none;
    border-radius: 50%;
}

input[type="color"]::-webkit-color-swatch {
    border: 2px solid var(--border);
    border-radius: 50%;
}

input[type="color"]::-moz-color-swatch {
    border: 2px solid var(--border);
    border-radius: 50%;
}

input[type="color"]:hover {
    transform: scale(1.1);
}

.color-picker span {
    color: var(--text-light);
    font-size: 0.9rem;
}

/* ===== PIE DE P√ÅGINA ===== */
.footer {
    margin-top: 20px;
    padding: 1rem;
    background: var(--card);
    border: 1px solid var(--border);
    text-align: center;
    width: 100%;
    border-radius: 7px;
    z-index: 10;
}


.social-links {
    display: flex;
    justify-content: center;
    gap: 1rem;
    margin: 0;
    flex-wrap: wrap;
    padding: 0.25rem;
}

.social-link {
    color: var(--text-light);
    text-decoration: none;
    display: flex;
    align-items: center;
    gap: 0.25rem;
    padding: 0.35rem 0.75rem;
    border-radius: var(--radius);
    background: rgba(255, 255, 255, 0.03);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    transition: all 0.3s ease;
    font-size: 0.85rem;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.social-link:hover {
    color: var(--text);
    background: rgba(255, 255, 255, 0.05);
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
}

/* ===== ACCIONES DE TAREA ===== */
.task__actions {
    position: absolute;
    top: 0.5rem;
    right: 1.5rem;
    display: none;
    gap: 0.5rem;
}

.task:hover .task__actions {
    display: flex;
}

.action-btn {
    background: none;
    border: none;
    cursor: pointer;
    padding: 0.25rem;
    border-radius: 4px;
    transition: all 0.2s;
}

.action-btn:hover {
    background: rgba(0, 0, 0, 0.1);
}

/* ===== MODALES DE CONFIRMACI√ìN ===== */
.confirmation-check {
    font-size: 4rem;
    animation: checkBounce 0.5s ease;
}

.confirmation-buttons {
    display: flex;
    gap: 1rem;
    justify-content: center;
    margin-top: 1.5rem;
}

.delete-confirm-btn {
    background: var(--accent) !important;
}

/* ===== MODAL DE AYUDA ===== */
.help-modal__content {
    max-width: 650px;
    max-height: 85vh;
    overflow-y: auto;
    padding: 0;
}

.help-header {
    background: linear-gradient(135deg, var(--primary), var(--secondary));
    color: white;
    padding: 1.5rem;
    display: flex;
    align-items: center;
    gap: 1rem;
    border-radius: var(--radius) var(--radius) 0 0;
}

.help-icon {
    font-size: 2.5rem;
}

.help-header h2 {
    margin: 0;
    font-size: 1.8rem;
}

.help-intro {
    padding: 1.5rem 1.5rem 0.5rem;
    color: var(--text);
    font-size: 1.1rem;
    border-bottom: 1px solid var(--border);
    margin: 0;
}

.help-content {
    padding: 1.5rem;
}

.help-section {
    margin-bottom: 2rem;
    background: rgba(255, 255, 255, 0.05);
    border-radius: var(--radius);
    overflow: hidden;
    border: 1px solid var(--border);
}

.help-section-header {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 1rem 1.5rem;
    background: rgba(0, 0, 0, 0.03);
    border-bottom: 1px solid var(--border);
}

.help-section-icon {
    font-size: 1.7rem;
}

.help-section h3 {
    margin: 0;
    color: var(--primary);
    font-size: 1.3rem;
}

.help-section-content {
    padding: 1.5rem;
}

.help-section-content p {
    margin-top: 0;
    margin-bottom: 1rem;
}

.help-section-content ul,
.help-section-content ol {
    padding-left: 1.5rem;
    margin-bottom: 0;
}

.help-section-content li {
    margin-bottom: 0.75rem;
    line-height: 1.5;
}

.help-section-content li:last-child {
    margin-bottom: 0;
}

.help-section-content strong {
    color: var(--primary);
}

.help-footer {
    padding: 1rem 1.5rem 1.5rem;
    text-align: center;
    border-top: 1px solid var(--border);
}

.help-close-btn {
    min-width: 120px;
    color: white;
}

/* ===== ESTILOS DE MODO OSCURO ===== */
[data-theme="dark"] .header {
    background: var(--primary);
}

[data-theme="dark"] .add-task {
    background: rgba(255, 255, 255, 0.02);
    border-color: var(--border);
    color: var(--text-light);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
}

[data-theme="dark"] .add-task:hover {
    background: rgba(255, 255, 255, 0.05);
    border-color: var(--primary);
    color: var(--text);
    transform: translateY(-2px);
}

[data-theme="dark"] .task {
    background: rgba(30, 41, 59, 0.8);
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.2),
        0 2px 4px -1px rgba(0, 0, 0, 0.1);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    border: 1px solid var(--border);
}

[data-theme="dark"] .task:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3),
        0 4px 6px -2px rgba(0, 0, 0, 0.2);
    background: rgba(30, 41, 59, 0.9);
}

[data-theme="dark"] .task::after {
    color: var(--text-light);
}

[data-theme="dark"] .modal__content {
    background: var(--card);
    color: var(--text);
    border: 1px solid var(--border);
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
}

[data-theme="dark"] .form-group input,
[data-theme="dark"] .form-group textarea {
    background: rgba(15, 23, 42, 0.6);
    color: var(--text);
    border-color: var(--border);
}

[data-theme="dark"] .form-group input:focus,
[data-theme="dark"] .form-group textarea:focus {
    border-color: var(--primary);
    outline: none;
    box-shadow: 0 0 0 2px rgba(223, 23, 131, 0.2);
}

[data-theme="dark"] .task__date {
    color: var(--text-light) !important;
}

[data-theme="dark"] .task-list.drag-over {
    background: rgba(255, 255, 255, 0.03);
}

[data-theme="dark"] .theme-toggle {
    background: rgba(255, 255, 255, 0.3) !important;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.2);
}

[data-theme="dark"] .theme-toggle:hover {
    background: rgba(255, 255, 255, 0.5) !important;
    transform: scale(1.1) !important;
}

[data-theme="dark"] .header__stat {
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.1);
}

[data-theme="dark"] .btn {
    background: var(--primary);
    color: var(--text);
}

[data-theme="dark"] .btn:hover {
    background: var(--secondary);
    transform: translateY(-1px);
}

[data-theme="dark"] .modal__close {
    color: var(--text-light);
}

[data-theme="dark"] .modal__close:hover {
    color: var(--text);
}

[data-theme="dark"] .action-btn:hover {
    background: rgba(255, 255, 255, 0.1);
}

[data-theme="dark"] .footer {
    background: rgba(30, 41, 59, 0.8);
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: 0 -4px 6px rgba(0, 0, 0, 0.1);
}

[data-theme="dark"] .social-link {
    background: rgba(255, 255, 255, 0.02);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

[data-theme="dark"] .social-link:hover {
    background: rgba(255, 255, 255, 0.05);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
}

[data-theme="dark"] .help-toggle {
    background: rgba(255, 255, 255, 0.03);
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.2);
}

[data-theme="dark"] .help-toggle:hover {
    background: rgba(255, 255, 255, 0.5);
}

[data-theme="dark"] .help-section {
    background: rgba(0, 0, 0, 0.1);
}

[data-theme="dark"] .help-section-header {
    background: rgba(0, 0, 0, 0.2);
}

/* ===== ANIMACIONES ===== */
@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes slideUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes fadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

@keyframes checkBounce {
    0% {
        transform: scale(0);
    }
    50% {
        transform: scale(1.2);
    }
    100% {
        transform: scale(1);
    }
}

@keyframes modalSlideIn {
    from {
        transform: translateY(-20px);
        opacity: 0;
    }
    to {
        transform: translateY(0);
        opacity: 1;
    }
}

/* ===== AJUSTES RESPONSIVOS ===== */
@media (max-width: 768px) {
    .header {
        padding: 1.5rem 1rem;
    }

    .header__title {
        font-size: 2rem;
    }

    .header__stats {
        grid-template-columns: repeat(3, 1fr);
    }

    .header__stat {
        padding: 0.5rem 0.25rem;
    }

    .header__stat-value {
        font-size: 1.1rem;
    }

    .header__stat-label {
        font-size: 0.75rem;
    }

    .board {
        grid-template-columns: 1fr;
        padding: 0;
    }

    .column {
        min-height: 350px;
    }
}

@media (max-width: 480px) {
    .modal__content {
        width: 100%;
        margin: 0;
        border-radius: 0;
        min-height: 100vh;
        padding: 1.5rem;
    }

    .header__title {
        font-size: 1.8rem;
    }

    .header__subtitle {
        font-size: 1rem;
    }

    .header__stats {
        grid-template-columns: repeat(3, 1fr);
        gap: 0.25rem;
    }

    .header__stat {
        padding: 0.4rem 0.1rem;
    }

    .header__stat-value {
        font-size: 1rem;
    }

    .header__stat-label {
        font-size: 0.7rem;
    }

    .floating-buttons {
        top: 0.75rem;
        right: 0.75rem;
        gap: 8px;
    }

    .theme-toggle,
    .help-toggle {
        width: 36px;
        height: 36px;
        font-size: 1.1rem;
    }
}

.bebell-footer p {
    align-items: center;
    text-align: center;
    font-size: 12px;
    line-height: 1.5;
    margin: 0;
    padding: 30px;
}

.bebell-link {
    color: inherit;
    text-decoration: none;
    transition: color 0.3s ease;
}

.bebell-link:hover {
    color: #df1783;
}
    
    
    </style>
</head>
<body>


     <div class="custom-image-widget" style="position: relative; display: inline-block;"> <!-- ADD THESE STYLES -->
    <a href="https://bebell-digital-solutions.github.io/tasks-manager/espanol/">
        <img class="custom-image" 
             src="https://bucket.mlcdn.com/a/3336/3336910/images/2891bb0a192c808fe1bb53e3905fc787957c2085.png" 
             alt="English Translation"
             style="display: block;"> <!-- Ensure image is block-level -->
    </a>

</div>



 
    <!-- Modal de ayuda -->
    <div class="modal" id="helpModal">
        <div class="modal__content help-modal__content">
            <button class="modal__close" onclick="closeHelpModal()">&times;</button>
            <div class="help-header">
                <div class="help-icon">üìì</div>
                <h2>Gu√≠a del Usuario</h2>
            </div>
            <p class="help-intro">¬°Bienvenido al Gestor de Tareas! Esta gu√≠a te ayudar√° a sacar el m√°ximo provecho de esta aplicaci√≥n.</p>

            <div class="help-content">
                <section class="help-section">
                    <div class="help-section-header">
                        <div class="help-section-icon">üéØ</div>
                        <h3>Comenzando</h3>
                    </div>
                    <div class="help-section-content">
                        <p>El Gestor de Tareas te ayuda a organizar tu trabajo con un tablero kanban simple:</p>
                        <ul>
                            <li><strong>Por Hacer</strong> - Tareas que a√∫n no has comenzado</li>
                            <li><strong>En Progreso</strong> - Tareas en las que est√°s trabajando actualmente</li>
                            <li><strong>Completadas</strong> - Tareas que has terminado</li>
                        </ul>
                    </div>
                </section>

                <section class="help-section">
                    <div class="help-section-header">
                        <div class="help-section-icon">‚ûï</div>
                        <h3>Creando Tareas</h3>
                    </div>
                    <div class="help-section-content">
                        <p>Para crear una nueva tarea:</p>
                        <ol>
                            <li>Haz clic en el bot√≥n <strong>"+ A√±adir Tarea"</strong> en cualquier columna</li>
                            <li>Completa los detalles de la tarea (el t√≠tulo es obligatorio)</li>
                            <li>Personaliza tu tarea con una fecha l√≠mite, color e imagen</li>
                            <li>Haz clic en <strong>"A√±adir Tarea"</strong> para guardar</li>
                        </ol>
                    </div>
                </section>

                <section class="help-section">
                    <div class="help-section-header">
                        <div class="help-section-icon">üîÑ</div>
                        <h3>Gestionando Tareas</h3>
                    </div>
                    <div class="help-section-content">
                        <p>Puedes gestionar f√°cilmente tus tareas con estas acciones:</p>
                        <ul>
                            <li><strong>Mover</strong> - Arrastra y suelta tareas entre columnas para actualizar su estado</li>
                            <li><strong>Editar</strong> - Haz clic en el icono ‚úèÔ∏è para modificar los detalles de una tarea</li>
                            <li><strong>Eliminar</strong> - Haz clic en el icono üóëÔ∏è para eliminar una tarea (se requiere confirmaci√≥n)</li>
                        </ul>
                    </div>
                </section>

                <section class="help-section">
                    <div class="help-section-header">
                        <div class="help-section-icon">üí°</div>
                        <h3>Consejos Profesionales</h3>
                    </div>
                    <div class="help-section-content">
                        <ul>
                            <li><strong>Almacenamiento Local</strong> - Tus tareas se guardan autom√°ticamente en tu navegador</li>
                            <li><strong>Modo Oscuro</strong> - Alterna entre temas claro y oscuro con el bot√≥n üåì</li>
                            <li><strong>Estad√≠sticas de Tareas</strong> - Visualiza tu progreso con los contadores en la parte superior</li>
                            <li><strong>Colores de Tareas</strong> - Usa colores para categorizar o priorizar tus tareas</li>
                            <li><strong>Im√°genes</strong> - A√±ade im√°genes a tareas que necesiten contexto visual</li>
                        </ul>
                    </div>
                </section>
            </div>

            <div class="help-footer">
                <button class="btn help-close-btn" onclick="closeHelpModal()">¬°Entendido!</button>
            </div>
        </div>
    </div>

    <header class="header">
        <button class="theme-toggle" id="themeToggle">üåì</button>
        <button class="help-toggle" id="helpToggle">‚ÅâÔ∏è</button>

        <div class="header__content">
            <h1 class="header__title">Gestor de Tareas</h1>
            <p class="header__subtitle">Organiza tu trabajo con facilidad</p>
            <div class="header__stats">
                <div class="header__stat">
                    <div class="header__stat-value" id="totalTasks">0</div>
                    <div class="header__stat-label">Tareas Totales</div>
                </div>
                <div class="header__stat">
                    <div class="header__stat-value" id="completedTasks">0</div>
                    <div class="header__stat-label">Completadas</div>
                </div>
                <div class="header__stat">
                    <div class="header__stat-value" id="inProgressTasks">0</div>
                    <div class="header__stat-label">En Progreso</div>
                </div>
            </div>
        </div>
    </header>

    <div class="container">
        <div class="board">
            <div class="column" id="todo">
                <div class="column__header">
                    <h2 class="column__title">üìù Por Hacer</h2>
                    <span class="column__count">0</span>
                </div>
                <div class="task-list">
                    <div class="add-task">+ A√±adir Tarea</div>
                </div>
            </div>

            <div class="column" id="progress">
                <div class="column__header">
                    <h2 class="column__title">üîÑ En Progreso</h2>
                    <span class="column__count">0</span>
                </div>
                <div class="task-list">
                    <div class="add-task">+ A√±adir Tarea</div>
                </div>
            </div>

            <div class="column" id="done">
                <div class="column__header">
                    <h2 class="column__title">‚úÖ Completadas</h2>
                    <span class="column__count">0</span>
                </div>
                <div class="task-list">
                    <div class="add-task">+ A√±adir Tarea</div>
                </div>
            </div>
        </div>


   <!-- Pie de p√°gina -->
    <footer class="footer">
        <div class="social-links">
            <a href="https://bebell-digital-solutions.github.io/checklist-creator/espanol" class="social-link"  rel="noopener">
                <span>‚òëÔ∏è</span> Creador de Checklist
            </a>
            <a href="https://bebell-digital-solutions.github.io/tasks-manager/espanol" class="social-link"  rel="noopener">
                <span>üéØ</span> Gestor de Tareas
            </a>
            <a href="https://bebell-digital-solutions.github.io/bookmark-page/espanol" class="social-link"  rel="noopener">
                <span>üîó</span> Gestor de Enlaces
            </a>
            <a href="https://bebell-digital-solutions.github.io/magic-toolbox-aplicacion/" class="social-link" rel="noopener">
                <span>üß∞</span> Magic Toolbox
            </a>
            <a href="mailto:soporte@bebelldigitalsolutions.com" class="social-link" target="_blank" rel="noopener">
                <span>üì®</span> Soporte T√©cnico
            </a>
        </div>
    </footer>
    
    

    <!-- Modal para a√±adir/editar una tarea -->
    <div class="modal" id="taskModal">
        <div class="modal__content">
            <button class="modal__close" onclick="closeModal()">&times;</button>
            <h2>Nueva Tarea</h2>
            <form class="task-form" id="taskForm">
                <input type="hidden" id="editTaskId">
                <input type="hidden" id="columnType">
                <div class="form-group">
                    <label for="taskTitle">T√≠tulo</label>
                    <input type="text" id="taskTitle" required>
                </div>
                <div class="form-group">
                    <label for="taskDescription">Descripci√≥n</label>
                    <textarea id="taskDescription" rows="3"></textarea>
                </div>
                <div class="form-group">
                    <label for="taskDeadline">Fecha L√≠mite</label>
                    <input type="datetime-local" id="taskDeadline">
                </div>
                <div class="form-group">
                    <label>Color de Tarea</label>
                    <div class="color-picker">
                        <input type="color" id="taskColor" value="#df1783">
                        <span>Elige un color para tu tarea</span>
                    </div>
                </div>
                <div class="form-group">
                    <label for="taskImage">Imagen</label>
                    <input type="file" id="taskImage" accept="image/*">
                </div>
                <button type="submit" class="btn">A√±adir Tarea</button>
            </form>
        </div>
    </div>

    <!-- Modal de confirmaci√≥n -->
    <div class="modal" id="confirmationModal">
        <div class="modal__content">
            <div class="confirmation-check">‚úÖ</div>
            <h3>¬°√âxito!</h3>
            <p id="confirmationMessage"></p>
        </div>
    </div>

    <!-- Modal de confirmaci√≥n de eliminaci√≥n -->
    <div class="modal" id="deleteConfirmationModal">
        <div class="modal__content">
            <h3>Confirmar Eliminaci√≥n</h3>
            <p>¬øEst√°s seguro de que quieres eliminar esta tarea?</p>
            <div style="display: flex; gap: 1rem; justify-content: center; margin-top: 1.5rem;">
                <button class="btn" id="cancelDeleteBtn">Cancelar</button>
                <button class="btn" style="background: var(--accent)" id="confirmDeleteBtn">Eliminar</button>
            </div>
        </div>
    </div>

    <div class="bebell-footer">
        <p>
            Desarrollado con üíñ por  
            <a href="https://bebelldigitalsolutions.com" class="bebell-link">
                Bebell Digital Solutions.
            </a>.<br>Copyright ¬© 2024 ‚Ä¢ Todos los derechos reservados.</p>
    </div>

    <script>
    // Variables globales para funciones de eliminaci√≥n
    let currentTaskToDelete = null;

    // Funci√≥n para mostrar confirmaci√≥n
    function showConfirmation(message) {
        const modal = document.getElementById('confirmationModal');
        const messageElement = document.getElementById('confirmationMessage');
        if (message.includes('eliminada')) {
            message = '¬°Tarea eliminada con √©xito! üóëÔ∏è';
        } else if (message.includes('actualizada')) {
            message = '¬°Tarea actualizada con √©xito! üéâ';
        } else if (message.includes('creada')) {
            message = '¬°Tarea creada con √©xito! üéâ';
        }
        messageElement.textContent = message;
        modal.classList.add('show');
        setTimeout(() => {
            modal.classList.remove('show');
        }, 3000);
    }

    // Funci√≥n para cerrar modal
    function closeModal() {
        document.getElementById('taskModal').classList.remove('show');
    }

    function confirmDelete() {
        const tasks = JSON.parse(localStorage.getItem('tasks') || '[]');
        const filteredTasks = tasks.filter(t => t.id !== currentTaskToDelete);
        localStorage.setItem('tasks', JSON.stringify(filteredTasks));
        const taskElement = document.querySelector(`[data-task-id="${currentTaskToDelete}"]`);
        if (taskElement) {
            taskElement.remove();
        }
        document.getElementById('deleteConfirmationModal').classList.remove('show');
        // Actualizar contadores y mostrar confirmaci√≥n
        updateAllCounts();
        showConfirmation('¬°Tarea eliminada con √©xito! üóëÔ∏è');
        currentTaskToDelete = null;
    }

    function updateAllCounts() {
        const columns = ['todo', 'progress', 'done'];
        columns.forEach(columnType => {
            const column = document.getElementById(columnType);
            const tasksInColumn = column.querySelectorAll('.task-list > .task');
            column.querySelector('.column__count').textContent = tasksInColumn.length;
        });
        const totalTasks = document.querySelectorAll('.task').length;
        const completedTasks = document.querySelector('#done').querySelectorAll('.task').length;
        const inProgressTasks = document.querySelector('#progress').querySelectorAll('.task').length;
        document.getElementById('totalTasks').textContent = totalTasks;
        document.getElementById('completedTasks').textContent = completedTasks;
        document.getElementById('inProgressTasks').textContent = inProgressTasks;
    }

    function cancelDelete() {
        currentTaskToDelete = null;
        document.getElementById('deleteConfirmationModal').classList.remove('show');
    }

    function deleteTask(taskId) {
        currentTaskToDelete = taskId;
        document.getElementById('deleteConfirmationModal').classList.add('show');
    }

    // Funci√≥n para cerrar modal de ayuda
    function closeHelpModal() {
        document.getElementById('helpModal').classList.remove('show');
    }

    document.addEventListener('DOMContentLoaded', function() {
        // A√±adir event listeners para botones de eliminaci√≥n
        document.getElementById('confirmDeleteBtn').addEventListener('click', confirmDelete);
        document.getElementById('cancelDeleteBtn').addEventListener('click', cancelDelete);
        
        // Configuraci√≥n del tema
        const themeToggle = document.getElementById('themeToggle');
        const prefersDarkScheme = window.matchMedia('(prefers-color-scheme: dark)');
        
        // Inicializar tema
        function initTheme() {
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme) {
                document.documentElement.setAttribute('data-theme', savedTheme);
                updateThemeIcon(savedTheme);
            } else if (prefersDarkScheme.matches) {
                document.documentElement.setAttribute('data-theme', 'dark');
                updateThemeIcon('dark');
            }
        }

        function updateThemeIcon(theme) {
            themeToggle.textContent = theme === 'dark' ? 'üåì' : 'üåì';
        }
        
        // Manejar cambio de tema
        themeToggle.addEventListener('click', () => {
            const currentTheme = document.documentElement.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            document.documentElement.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            updateThemeIcon(newTheme);
        });
        
        // Inicializar tema al cargar
        initTheme();
        
        const modal = document.getElementById('taskModal');
        const taskForm = document.getElementById('taskForm');
        const columns = document.querySelectorAll('.column');
        
        // Inicializar tareas por defecto si no existen
        let tasks = JSON.parse(localStorage.getItem('tasks') || '[]');
        if (!tasks || tasks.length === 0) {
            tasks = [{
                    id: "default1",
                    column: "todo",
                    title: "Visita todos los proyectos de Bebell Digital Solutions",
                    description: "¬°Descubre todos los proyectos de Bebell Digital Solutions y deja un buen comentario!",
                    deadline: new Date().toISOString(),
                    color: "#df1783", // Cambiado de azul a rosa
                    image: null
                },
                {
                    id: "default2",
                    column: "todo",
                    title: "Dale like y comenta este proyecto",
                    description: "¬°Dale like y comenta este proyecto para mostrar tu aprecio!",
                    deadline: new Date().toISOString(),
                    color: "#df1783", // Cambiado de azul a rosa
                    image: null
                }
            ];
            localStorage.setItem('tasks', JSON.stringify(tasks));
        }
        
        // Configuraci√≥n de arrastrar y soltar en columnas
        columns.forEach(column => {
            column.addEventListener('dragover', e => {
                e.preventDefault();
                const draggingTask = document.querySelector('.dragging');
                const taskList = column.querySelector('.task-list');
                const afterElement = getDragAfterElement(taskList, e.clientY);
                if (afterElement) {
                    taskList.insertBefore(draggingTask, afterElement);
                } else {
                    taskList.appendChild(draggingTask);
                }
            });
            
            column.addEventListener('drop', e => {
                e.preventDefault();
                const taskId = e.dataTransfer.getData('text/plain');
                const task = tasks.find(t => t.id === taskId);
                const prevColumn = task.column;
                task.column = column.id;
                saveTasks();
                updateAllCounts();
                updateColumnCount(prevColumn);
                const draggingTask = document.querySelector(`[data-task-id="${taskId}"]`);
                draggingTask.classList.remove('dragging');
                draggingTask.style.transform = 'scale(1.02)';
                setTimeout(() => {
                    draggingTask.style.transform = 'scale(1)';
                }, 200);
            });
        });
        
        // Funci√≥n para determinar posici√≥n de soltado
        function getDragAfterElement(container, y) {
            const draggableElements = [...container.querySelectorAll('.task:not(.dragging)')];
            return draggableElements.reduce((closest, child) => {
                const box = child.getBoundingClientRect();
                const offset = y - box.top - box.height / 2;
                if (offset < 0 && offset > closest.offset) {
                    return {
                        offset: offset,
                        element: child
                    };
                } else {
                    return closest;
                }
            }, {
                offset: Number.NEGATIVE_INFINITY
            }).element;
        }
        
        // Env√≠o de formulario
        taskForm.addEventListener('submit', async function(e) {
            e.preventDefault();
            const taskId = this.dataset.editId;
            if (taskId) {
                // Obtener elemento DOM existente antes de actualizar
                const existingTaskElement = document.querySelector(`[data-task-id="${taskId}"]`);
                // Verificar si el elemento existe antes de acceder a sus propiedades
                let parentColumn = null;
                if (existingTaskElement) {
                    parentColumn = existingTaskElement.closest('.column').id;
                }
                // Actualizar tarea en array
                const taskIndex = tasks.findIndex(t => t.id === taskId);
                if (taskIndex !== -1) {
                    tasks[taskIndex] = {
                        ...tasks[taskIndex],
                        title: document.getElementById('taskTitle').value,
                        description: document.getElementById('taskDescription').value,
                        deadline: document.getElementById('taskDeadline').value,
                        color: document.getElementById('taskColor').value,
                        column: document.getElementById('columnType').value
                    };
                    // Eliminar elemento antiguo solo si cambia la columna y el elemento existe
                    if (existingTaskElement && parentColumn !== tasks[taskIndex].column) {
                        existingTaskElement.remove();
                        updateColumnCount(parentColumn);
                    }
                    // Actualizar visualizaci√≥n sin recargar todas las tareas
                    if (existingTaskElement && parentColumn === tasks[taskIndex].column) {
                        renderTask(tasks[taskIndex], true); // true para indicar actualizaci√≥n
                    } else {
                        // Si el elemento no existe o cambi√≥ de columna, renderizar de nuevo
                        renderTask(tasks[taskIndex]);
                    }
                }
                delete this.dataset.editId;
            } else {
                // Crear nueva tarea
                await createTask({
                    columnType: document.getElementById('columnType').value,
                    title: document.getElementById('taskTitle').value,
                    description: document.getElementById('taskDescription').value,
                    deadline: document.getElementById('taskDeadline').value,
                    color: document.getElementById('taskColor').value,
                    imageFile: document.getElementById('taskImage').files[0]
                });
            }
            saveTasks();
            closeModal();
            showConfirmation(taskId ? '¬°Tarea actualizada con √©xito! üéâ' : '¬°Tarea creada con √©xito! üéâ');
        });
        
        async function createTask(taskData) {
            const imageBase64 = taskData.imageFile ?
                await convertImageToBase64(taskData.imageFile) :
                null;
            const newTask = {
                id: Date.now().toString(),
                ...taskData,
                column: taskData.columnType,
                image: imageBase64
            };
            tasks.push(newTask);
            saveTasks();
            renderTask(newTask);
        }

        function convertImageToBase64(file) {
            return new Promise((resolve) => {
                const reader = new FileReader();
                reader.onloadend = () => resolve(reader.result);
                reader.readAsDataURL(file);
            });
        }

        function saveTasks() {
            localStorage.setItem('tasks', JSON.stringify(tasks));
            updateAllCounts();
        }

        function renderTask(task, isUpdate = false) {
            if (isUpdate) {
                // Buscar elemento existente y actualizarlo
                const existingTask = document.querySelector(`[data-task-id="${task.id}"]`);
                if (existingTask) {
                    const imageHtml = task.image ?
                        `<img src="${task.image}" alt="Imagen de tarea" class="task__image">` : '';
                    existingTask.innerHTML = `
                        <div class="task__header">
                            <h3 class="task__title">${task.title}</h3>
                            <div class="task__actions">
                                <button class="action-btn edit-btn">‚úèÔ∏è</button>
                                <button class="action-btn delete-btn">üóëÔ∏è</button>
                            </div>
                        </div>
                        <div class="task__content">
                            <p>${task.description}</p>
                            ${imageHtml}
                        </div>
                        <div class="task__footer">
                            <span class="task__date">üìÖ ${task.deadline ? new Date(task.deadline).toLocaleDateString() !== 'Invalid Date' ? new Date(task.deadline).toLocaleDateString() : 'Sin fecha' : 'Sin fecha'}</span>
                        </div>
                    `;
                    existingTask.style.borderLeft = `4px solid ${task.color}`;
                    // Volver a adjuntar event listeners
                    existingTask.querySelector('.edit-btn').addEventListener('click', () => openEditModal(task.id));
                    existingTask.querySelector('.delete-btn').addEventListener('click', () => deleteTask(task.id));
                    return;
                }
            }
            
            const column = document.getElementById(task.column);
            const taskList = column.querySelector('.task-list');
            const taskElement = document.createElement('div');
            taskElement.className = 'task';
            taskElement.draggable = true;
            taskElement.dataset.taskId = task.id;
            taskElement.style.borderLeft = `4px solid ${task.color}`;
            
            const imageHtml = task.image ?
                `<img src="${task.image}" alt="Imagen de tarea" class="task__image">` : '';
            
            taskElement.innerHTML = `
                <div class="task__header">
                    <h3 class="task__title">${task.title}</h3>
                    <div class="task__actions">
                        <button class="action-btn edit-btn">‚úèÔ∏è</button>
                        <button class="action-btn delete-btn">üóëÔ∏è</button>
                    </div>
                </div>
                <div class="task__content">
                    <p>${task.description}</p>
                    ${imageHtml}
                </div>
                <div class="task__footer">
                    <span class="task__date">üìÖ ${task.deadline ? new Date(task.deadline).toLocaleDateString() !== 'Invalid Date' ? new Date(task.deadline).toLocaleDateString() : 'Sin fecha' : 'Sin fecha'}</span>
                </div>
            `;
            
            taskElement.addEventListener('dragstart', handleDragStart);
            taskElement.addEventListener('dragend', handleDragEnd);
            
            // A√±adir tarea despu√©s del bot√≥n "A√±adir Tarea" en lugar de insertar al principio
            const addTaskButton = taskList.querySelector('.add-task');
            if (addTaskButton.nextSibling) {
                taskList.insertBefore(taskElement, addTaskButton.nextSibling);
            } else {
                taskList.appendChild(taskElement);
            }
            
            // Guardar tareas
            saveTasks();
            
            taskElement.querySelector('.edit-btn').addEventListener('click', () => openEditModal(task.id));
            taskElement.querySelector('.delete-btn').addEventListener('click', () => deleteTask(task.id));
        }

        function updateColumnCount(columnType) {
            const column = document.getElementById(columnType);
            const tasksInColumn = column.querySelectorAll('.task-list > .task');
            column.querySelector('.column__count').textContent = tasksInColumn.length;
        }

        function updateHeaderStats() {
            const totalTasks = document.querySelectorAll('.task').length;
            const completedTasks = document.querySelector('#done').querySelectorAll('.task').length;
            const inProgressTasks = document.querySelector('#progress').querySelectorAll('.task').length;
            document.getElementById('totalTasks').textContent = totalTasks;
            document.getElementById('completedTasks').textContent = completedTasks;
            document.getElementById('inProgressTasks').textContent = inProgressTasks;
        }

        function openEditModal(taskId) {
            const task = tasks.find(t => t.id === taskId);
            if (!task) return;
            
            const form = document.getElementById('taskForm');
            document.getElementById('taskTitle').value = task.title;
            document.getElementById('taskDescription').value = task.description;
            document.getElementById('taskDeadline').value = task.deadline;
            document.getElementById('taskColor').value = task.color;
            document.getElementById('columnType').value = task.column;
            document.getElementById('editTaskId').value = taskId;
            form.dataset.editId = taskId;
            
            // Cambiar texto del bot√≥n para indicar actualizaci√≥n
            document.querySelector('#taskForm button[type="submit"]').textContent = 'Actualizar Tarea';
            // Cambiar t√≠tulo del modal para indicar actualizaci√≥n
            document.querySelector('#taskModal h2').textContent = 'Editar Tarea';
            document.getElementById('taskModal').classList.add('show');
        }

        function openModal(columnType) {
            document.getElementById('columnType').value = columnType;
            document.getElementById('taskForm').reset();
            document.getElementById('editTaskId').value = '';
            // Restablecer texto del bot√≥n para indicar a√±adir
            document.querySelector('#taskForm button[type="submit"]').textContent = 'A√±adir Tarea';
            // Restablecer t√≠tulo del modal para indicar a√±adir
            document.querySelector('#taskModal h2').textContent = 'Nueva Tarea';
            document.getElementById('taskModal').classList.add('show');
            // Enfocar campo de t√≠tulo
            setTimeout(() => {
                document.getElementById('taskTitle').focus();
            }, 100);
        }

        function loadTasks() {
            // Limpiar listas de tareas existentes manteniendo botones "A√±adir Tarea"
            document.querySelectorAll('.task-list').forEach(taskList => {
                // Mantener solo el bot√≥n "A√±adir Tarea"
                const addTaskButton = taskList.querySelector('.add-task');
                taskList.innerHTML = '';
                taskList.appendChild(addTaskButton);
            });
            
            // Cargar tareas desde localStorage
            tasks.forEach(task => {
                renderTask(task);
            });
            
            updateAllCounts();
        }
        
        // Inicializar tema y cargar tareas
        initTheme();
        loadTasks();
        
        // A√±adir event listeners para botones "A√±adir Tarea"
        document.querySelectorAll('.add-task').forEach(button => {
            button.addEventListener('click', function() {
                const columnType = this.closest('.column').id;
                openModal(columnType);
            });
        });
        
        // A√±adir event listener para bot√≥n de cierre de modal
        document.querySelector('.modal__close').addEventListener('click', closeModal);

        function handleDragStart(e) {
            this.classList.add('dragging');
            this.style.opacity = '0.5';
            e.dataTransfer.setData('text/plain', this.dataset.taskId);
        }

        function handleDragEnd() {
            this.classList.remove('dragging');
            this.style.opacity = '1';
        }
        
        // Redefinir funci√≥n deleteTask dentro de DOMContentLoaded
        window.deleteTask = deleteTask;
        
        // A√±adir event listener para bot√≥n de ayuda
        document.getElementById('helpToggle').addEventListener('click', function() {
            document.getElementById('helpModal').classList.add('show');
        });
        
        // Exponer closeHelpModal globalmente
        window.closeHelpModal = closeHelpModal;
    });
    </script>
</body>
</html>
